# RafflesBot
Этот проект создан в целях парсинга аккаунтов Instagram по любым ключевым словам и вывода результата парсинга в Telegram бота. В настоящее время парсит страницы с розыгрышами вещей.
Ниже вы можете найти инструкцию по работе с ботом.
## Инструкция
Прежде всего, вам нужно установить библиотеки для работы с ботом
```
pip install telebot
pip install instabot
pip install requests
```
Далее рассмотрим, для чего нужны дополнительные .txt файлы
```
admins.txt - файл с Telegram ID администраторов бота. Обязательно на конце id ставится ; (точка с запятой).
insts.txt - файл с аккаунтами Instagram. Также в коцне строки ставится точка с запятой.
ids.txt - файл, который потребуется для автоматического парсинга (для подписки на новые посты). Лучше его не трогать.
```
Теперь перейдём непосредственно к подключению бота. Для его работы требуется аккаунт Instagram. Создать его не займёт больше двух минут.
Далее открываем код и находим раздел **SETTINGS**.
```python
#-------------------------SETTINGS-------------------------
botP.login(username = "USERNAME",  password = "PASSWORD", use_cookie = False)
bot = telebot.TeleBot('TELEGRAM BOT TOKEN');
#----------------------------------------------------------
```
В первой строке заменяем **USERNAME** на Instagram логин, а **PASSWORD** на пароль от аккаунта.  
Во второй строке заменяем **TELEGRAM BOT TOKEN** на токен от бота Telegram.
### Получение токена бота
```
Перейти в бота: @BotFather
Нажать кнопку: START
Написать боту: /newbot
Бот спросит вас как назвать нового бота. Придумайте и напишите
Далее нужно ввести ник бота, что бы он заканчивался нa слово bot
Бот создан! Скопируйте полученный API KEY.
```
Запускаем бота. Пропишем себя в администраторы. Для этого нужно узнать свой Telegram ID. Для этого в боте предусмотрена команда **/id**.  
![ID GET](https://i.imgur.com/lK7PbRo.png)  
А затем добавляем этот ID в файл **admins.txt**.  
Поздравляю, теперь вам доступно больше возможностей, чем другим пользователям.  
Узнать функционал бота можно с помощью команды **/help**, но я также продублирую их здесь:
```
/start - запуск бота.
/help - функционал бота.
/check - проверить все источники на ключевые слова в последних постах.
/add - добавить новые источники (команда только для админов).
/clear - удалить все источники (команда только для админов).
/list - показать все источники (+ будет показано, есть ли ключевые слова в последних постах).
/sub - подписаться на рассылку о новых постах источников с ключевыми словами.
```
Бот выводит новые посты в таком виде, каком они представлены в Instagram:  
![POST](https://imgur.com/64RJPm0.png)
